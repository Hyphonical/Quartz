@use "./base.scss";

/* Custom styles for the Quartz theme */

/* Normal modifications of default elements */

:root {
  --accent: #936bd0;
  --accent-light: #b78de5;
  --accent-soft: color-mix(in srgb, var(--accent) 25%, transparent);
  --accent-radial: radial-gradient(circle at 30% 20%, var(--accent-soft), transparent 70%);
}

a {
  text-decoration: none;
  background:
    linear-gradient(currentColor 0 0) 0 100% / 0 2px no-repeat;
  transition: background-size .35s ease, color .25s;
  color: var(--accent-light);
}

a:hover {
  background-size: 100% 2px;
  color: var(--accent);
}

.page > #quartz-body .center > article {
  animation: fadeIn 0.7s ease;
  background-image: var(--accent-radial);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px);}
  to { opacity: 1; transform: none;}
}

.page > #quartz-body .center > article {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(6px);
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  -webkit-backdrop-filter: blur(5px);
}

.graph > .graph-outer {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(6px);
  border-radius: 12px;
  padding: 1.5rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  -webkit-backdrop-filter: blur(5px);
}

.search > .search-button {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(6px);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  -webkit-backdrop-filter: blur(5px);
}

/* Dark mode variants of default elements */

:root[saved-theme="dark"] .graph > .graph-outer {
  background: rgba(13,17,23,0.8);
}

:root[saved-theme="dark"] .page > #quartz-body .center > article {
  background: rgba(13,17,23,0.8);
}

:root[saved-theme="dark"] .search > .search-button {
  background: rgba(13,17,23,0.8);
}

/* Global Light/Dark mode variants */

body {
    background:
    linear-gradient(rgba(255,240,200,0.55), rgba(255,240,200,0.55)),
      url("/static/images/background-light.jpg") center / cover fixed no-repeat;
}

:root[saved-theme="dark"] body {
  background:
    linear-gradient(rgba(10,5,25,0.6), rgba(10,5,25,0.6)),
    url("/static/images/background-dark.jpg") center / cover fixed no-repeat;
}

/* Page-specific backgrounds */

/* Light mode variants */

body[data-slug="Commands"] {
  background:
    linear-gradient(rgba(255,240,200,0.55), rgba(255,240,200,0.55)),
    url("/static/images/background-light.jpg") center / cover fixed no-repeat !important;
}

/* Dark mode variants */

:root[saved-theme="dark"] body[data-slug="Commands"] {
  background:
    linear-gradient(rgba(10,5,25,0.6), rgba(10,5,25,0.6)),
    url("/static/images/background-dark.jpg") center / cover fixed no-repeat !important;
}

@media (prefers-reduced-motion: no-preference) {
  :root[saved-theme] body {
    transition: background-color .5s, background-image .6s;
  }
}